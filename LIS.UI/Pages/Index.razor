@page "/"
@using System.Net.Http.Json
@inject HttpClient httpClient

<h1>Hello, world!</h1>

Welcome to your new app.
<div>
    <h6>Enter the TFN in the text box and click validate to perform validation.</h6>
    <div class="input-group mb-3">
        <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon3">Input:</span>
        </div>
        <input type="text" @bind="@input" class="form-control" aria-describedby="basic-addon3" placeholder="123 456 789" />
    </div>
    <button type="button" class="btn btn-primary" onClick=@GetOutput()>Validate</button>

    <div class="alert alert-success mt-5" role="alert">
        <h4 class="alert-heading">Output</h4>
        <hr>
        <p class="mb-0">@output</p>
    </div>
</div>

@code
{
    private string input { get; set; }
    private string output { get; set; }
    private async Task GetOutput()
    {
        output = await httpClient.GetStringAsync("");
        var response = await httpClient.PostAsJsonAsync<string>("", input);
        output = await response.Content.ReadFromJsonAsync<string>();
    }
}

